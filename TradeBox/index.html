<!DOCTYPE html>
<html>
<head>
	<title>TradeBox</title>
	<meta charset="utf-8" />
	<meta name="title" content="TradeBox">
	<meta name="description" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

</head>
<body>
<div class="row">
	    <section>
        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80" alt="Trader" width="100%" height="400"> 
    </section>
	<div class="col s6">
          <section>
        <h3><a class="waves-effect waves-light btn-large" href="nifty.html">NIFTY</a></h3>
    </section>
      </div>
      <div class="col s6">
            <section>
        <h3><a class="waves-effect waves-light btn-large" href="bnf.html">BANK NIFTY</a></h3>
    </section>
      </div>
      <div class="col s6">
            <section>
        <h3><a class="waves-effect waves-light btn-large" href="sensex.html">SENSEX</a></h3>
    </section>
      </div>
      <div class="col s6">
            <section>
        <h3><a class="waves-effect waves-light btn-large" href="MIDCPNIFTY.html">MIDCAPNIFTY</a></h3>
    </section>
      </div>
      <div class="col s6">
            <section>
        <h3><a class="waves-effect waves-light btn-large" href="FINNIFTY.html">FINNIFTY</a></h3>
    </section>
      </div>
	
</div>
	<button onclick="notify()">Notify</button>
	<script>
if (Notification.permission !== "granted") {
  Notification.requestPermission();
}

let currentIntervalId;

function notify() {
  const notification = new Notification("Intranet Alert", {
    body: "Click X or custom Close button to dismiss. Waits for user action.",
    icon: "https://sajinct.github.io/icons/Icon-192.png",
    tag: "intranet-alert",
    requireInteraction: true  // Waits until user closes (no auto-dismiss)
  });
  
  // Additional custom "Close" button (Chrome/Edge only)
  notification.actions = [{
    action: 'close',
    title: 'Close'
  }];
  
  // Handle close events
  notification.onclose = () => {
    console.log('Notification closed by user');
    // Restart interval after user closes
    if (currentIntervalId) clearInterval(currentIntervalId);
    currentIntervalId = setInterval(notify, 25000);
  };
  
  notification.onclick = () => {
    console.log('Notification clicked');
    window.focus();  // Bring tab to focus
    notification.close();
  };
  
  // Handle custom action button
  notification.onshow = () => {
    setTimeout(() => {
      notification.onaction = (event) => {
        if (event.action === 'close') {
          console.log('Custom Close button clicked');
          notification.close();
        }
      };
    }, 100);
  };
}

</script>
	 <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

</body>
</html>
