<html>
<body>
<!-- A SmartAPI button will be generated inside this container //--> 

<p id="default-button"> </p> 

 

<!-- The basket will be linked to this element's onClick //--> 

<button id="custom-button">Buy the basket</button> 

 

<!-- Include the plugin //--> 

<script src="https://smartapi.angelbroking.com/common/v1.js"></script>  

 

<script> 

// Only run your custom code once SmartApiConnect has fully initialised. 

// Use SmartApiConnect.ready() to achieve this. 

SmartApiConnect.ready(function () { 

// Initialize a new SmartAPI instance. 

      // You can initialize multiple instances if you need. 

var smartApi = new SmartApiConnect("W1H4KoZv"); 

// Add a stock to the basket 

smartApi.add({ 

"exchange": "NSE", 

"tradingsymbol": "INFY-EQ", 

"quantity": 5, 

"disclosedquantity": 3, 

"transactiontype": "BUY", 

"ordertype": "STOPLOSS_MARKET", 

"variety": "STOPLOSS", 

"producttype": "AMO_MARGIN", 

}); 

// Add another stock 

smartApi.add({ 

"exchange": "NSE", 

"tradingsymbol": "SBIN-EQ", 

"quantity": 1, 

"ordertype": "LIMIT", 

"transactiontype": "SELL", 

"price": 105, 

"producttype": "MARGIN", 

}); 

 

smartApi.add({ 

"tradingsymbol": "RELIANCE-EQ", 

"exchange": "NSE", 

"transactiontype": "BUY", 

"ordertype": "LIMIT", 

"producttype": "AMO_DELIVERY", 

"price": 915.15, 

"quantity": 1, 

"variety": "NORMAL", 

"readonly": true 

}); 

smartApi.link("#type-one"); 

smartApi.finished(function (status,acess_token) {
    console.log('smartApi.finished  Status',status);
    console.log('smartApi.finished  Tokens',acess_token);
});

}); 

</script> 
	</body>
</html>
